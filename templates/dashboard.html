<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://kit.fontawesome.com/4868e06636.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/static/styles_table.css">
</head>
<body>
  <div class="header">
    <img src="/static/logo_white.png" alt="Logo">
    <h2>Usuarios</h2>
    <a class="logout" href="/login"><i class="fa-solid fa-right-from-bracket"></i></a>
  </div>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Buscar por ID o nombre...">
    <button><i class="fa-solid fa-magnifying-glass"></i></button>
  </div>

  <table id="usersTable" class="dashboard-table table table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>CURP</th>
        <th>RFC</th>
        <th>+ Info</th>
        <th>Subir</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="modal fade" id="userDetailsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Información del Usuario</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <p><strong>ID:</strong> <span id="modalUserId"></span></p>
          <p><strong>Nombre:</strong> <span id="modalUserName"></span></p>
          <ul id="modalUserFields" class="list-group">
            <li class="list-group-item"><strong>CURP:</strong> <span id="infoCURP"></span></li>
            <li class="list-group-item"><strong>RFC:</strong> <span id="infoRFC"></span></li>
            <li class="list-group-item"><strong>IMSS:</strong> <span id="infoIMSS"></span></li>
            <li class="list-group-item"><strong>INE:</strong> <span id="infoINE"></span></li>
            <li class="list-group-item"><strong>Domicilio:</strong> <span id="infoDomicilio"></span></li>
            <li class="list-group-item"><strong>Cursos:</strong> <span id="infoCursos"></span></li>
            <li class="list-group-item"><strong>Cédulas:</strong> <span id="infoCedulas"></span></li>
            <li class="list-group-item"><strong>Régimen Fiscal:</strong> <span id="infoRegimenes"></span></li>
          </ul>          
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="uploadModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Subir Documento para Verificación</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <form id="uploadForm">
            <input type="hidden" name="user_id" id="uploadUserId">
            <div class="mb-3">
              <label class="form-label">Nombre:</label>
              <span id="uploadUserName"></span>
            </div>
            <div class="mb-3">
              <label for="docType" class="form-label">Tipo de documento:</label>
              <select class="form-select" name="doc_type" id="docType" required>
                <option selected>Eligue el documento</option>
                <option value="curp">CURP</option>
                <option value="rfc">RFC</option>
                <option value="imss">Número de IMSS</option>
                <option value="curso">Constancia de Cursos</option>
                <option value="cedula">Cédula Profesional</option>
                <option value="regimen">Régimen Fiscal</option>
                <option value="domicilio">Comprobante de Domicilio</option>
                <option value="ine">INE</option>
              </select>
            </div>
            <div class="mb-3" id="cedulaOptions" style="display:none;">
              <label class="form-label">Selecciona el formato de tu Cédula:</label>
              <div class="d-flex justify-content-between">
                <label>
                  <input type="radio" name="cedula_tipo" value="formato_1" required>
                  <img src="/static/img/cedula1.jpg" alt="Cédula tipo 1" class="img-thumbnail" width="100">
                </label>
                <label>
                  <input type="radio" name="cedula_tipo" value="formato_2">
                  <img src="/static/img/cedula2.jpg" alt="Cédula tipo 2" class="img-thumbnail" width="100">
                </label>
                <label>
                  <input type="radio" name="cedula_tipo" value="formato_3">
                  <img src="/static/img/cedula3.png" alt="Cédula tipo 3" class="img-thumbnail" width="100">
                </label>
              </div>
            </div>
            <div class="mb-3">
              <input class="form-control" type="file" name="file" required>
            </div>
            <button type="submit" class="btn btn-primary">Validar</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
